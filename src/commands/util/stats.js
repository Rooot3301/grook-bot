import { SlashCommandBuilder, EmbedBuilder } from 'discord.js'; import { readJSON } from '../../utils/jsonStore.js'; import { Colors } from '../../utils/theme.js';
export const data=new SlashCommandBuilder().setName('stats').setDescription('Statistiques du serveur/bot');
export async function execute(interaction){ const stats=await readJSON('src/data/stats.json',{}); const warns=await readJSON('src/data/warns.json',{}); const guildWarns=Object.values(warns[interaction.guildId]||{}).reduce((a,arr)=>a+arr.length,0); const emb=new EmbedBuilder().setColor(Colors.info).setTitle('ğŸ“Š Stats').addFields({name:'Warns (guilde)',value:String(guildWarns),inline:true},{name:'Commandes exÃ©cutÃ©es (global)',value:String(stats.commandsRun||0),inline:true}); return interaction.reply({embeds:[emb],ephemeral:true}); }